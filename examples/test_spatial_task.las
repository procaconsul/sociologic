#include "spatial.lp".

#neg({},{},{ % seq_2_1_negative.lp

person(person1).

pos(person1, 1, p1_1).
pos(person1, 2, p1_2).
pos(person1, 3, p1_3).
pos(person1, 4, p1_4).
pos(person1, 5, p1_5).
pos(person1, 6, p1_6).
pos(person1, 7, p1_7).
pos(person1, 8, p1_8).
pos(person1, 9, p1_9).
pos(person1, 10, p1_10).

point(p1_1, "53.725", "59.727").
point(p1_2, "53.725", "59.727").
point(p1_3, "53.725", "59.727").
point(p1_4, "53.725", "59.727").
point(p1_5, "53.725", "59.727").
point(p1_6, "53.725", "59.727").
point(p1_7, "53.578", "59.764").
point(p1_8, "53.578", "59.764").
point(p1_9, "53.578", "59.764").
point(p1_10, "53.578", "59.764").



person(person2).

pos(person2, 1, p2_1).
pos(person2, 2, p2_2).
pos(person2, 3, p2_3).
pos(person2, 4, p2_4).
pos(person2, 5, p2_5).
pos(person2, 6, p2_6).
pos(person2, 7, p2_7).
pos(person2, 8, p2_8).
pos(person2, 9, p2_9).
pos(person2, 10, p2_10).

point(p2_1, "54.35", "59.625").
point(p2_2, "54.35", "59.625").
point(p2_3, "54.35", "59.625").
point(p2_4, "54.35", "59.625").
point(p2_5, "54.35", "59.625").
point(p2_6, "54.493", "59.625").
point(p2_7, "54.754", "59.625").
point(p2_8, "54.754", "59.625").
point(p2_9, "54.754", "59.625").
point(p2_10, "54.754", "59.625").



robot(robot).

pos(robot, 1, r_1).
pos(robot, 2, r_2).
pos(robot, 3, r_3).
pos(robot, 4, r_4).
pos(robot, 5, r_5).
pos(robot, 6, r_6).
pos(robot, 7, r_7).
pos(robot, 8, r_8).
pos(robot, 9, r_9).
pos(robot, 10, r_10).


point(r_1, "49.741", "53.585").
point(r_2, "50.888", "54.345").
point(r_3, "52.064", "55.055").
point(r_4, "52.983", "55.788").
point(r_5, "53.725", "56.802").
point(r_6, "53.821", "57.927").
point(r_7, "53.975", "59.007").
point(r_8, "54.35", "60.176").
point(r_9, "55.033", "61.036").
point(r_10, "56.224", "61.477").
}).

#neg({},{},{ % seq_2_2_negative.lp

person(person1).

pos(person1, 1, p1_1).
pos(person1, 2, p1_2).
pos(person1, 3, p1_3).
pos(person1, 4, p1_4).
pos(person1, 5, p1_5).
pos(person1, 6, p1_6).
pos(person1, 7, p1_7).
pos(person1, 8, p1_8).
pos(person1, 9, p1_9).
pos(person1, 10, p1_10).

point(p1_1, "56.518", "59.209").
point(p1_2, "56.518", "59.209").
point(p1_3, "56.518", "59.209").
point(p1_4, "56.518", "59.209").
point(p1_5, "56.518", "59.209").
point(p1_6, "56.636", "59.463").
point(p1_7, "56.636", "59.463").
point(p1_8, "56.636", "59.463").
point(p1_9, "56.636", "59.463").
point(p1_10, "56.636", "59.463").



person(person2).

pos(person2, 1, p2_1).
pos(person2, 2, p2_2).
pos(person2, 3, p2_3).
pos(person2, 4, p2_4).
pos(person2, 5, p2_5).
pos(person2, 6, p2_6).
pos(person2, 7, p2_7).
pos(person2, 8, p2_8).
pos(person2, 9, p2_9).
pos(person2, 10, p2_10).

point(p2_1, "56.452", "58.566").
point(p2_2, "56.452", "58.566").
point(p2_3, "56.452", "58.566").
point(p2_4, "56.452", "58.566").
point(p2_5, "56.452", "58.566").
point(p2_6, "56.415", "58.184").
point(p2_7, "56.452", "57.963").
point(p2_8, "56.452", "57.963").
point(p2_9, "56.452", "57.963").
point(p2_10, "56.452", "57.963").



robot(robot).

pos(robot, 1, r_1).
pos(robot, 2, r_2).
pos(robot, 3, r_3).
pos(robot, 4, r_4).
pos(robot, 5, r_5).
pos(robot, 6, r_6).
pos(robot, 7, r_7).
pos(robot, 8, r_8).
pos(robot, 9, r_9).
pos(robot, 10, r_10).


point(r_1, "60.942", "61.322").
point(r_2, "59.972", "60.668").
point(r_3, "59.281", "60.08").
point(r_4, "58.267", "59.404").
point(r_5, "57.547", "59.029").
point(r_6, "56.797", "58.759").
point(r_7, "55.695", "58.643").
point(r_8, "54.725", "58.759").
point(r_9, "53.71", "58.897").
point(r_10, "52.637", "58.759").

}).

#neg({},{},{ % seq_2_3_negative.lp

person(person1).

pos(person1, 1, p1_1).
pos(person1, 2, p1_2).
pos(person1, 3, p1_3).
pos(person1, 4, p1_4).
pos(person1, 5, p1_5).
pos(person1, 6, p1_6).
pos(person1, 7, p1_7).
pos(person1, 8, p1_8).
pos(person1, 9, p1_9).
pos(person1, 10, p1_10).

point(p1_1, "40.551", "48.685").
point(p1_2, "40.551", "48.685").
point(p1_3, "40.551", "48.685").
point(p1_4, "40.551", "48.685").
point(p1_5, "40.393", "48.809").
point(p1_6, "40.393", "48.809").
point(p1_7, "40.393", "48.809").
point(p1_8, "40.393", "48.809").
point(p1_9, "40.393", "48.809").
point(p1_10, "40.393", "48.809").



person(person2).

pos(person2, 1, p2_1).
pos(person2, 2, p2_2).
pos(person2, 3, p2_3).
pos(person2, 4, p2_4).
pos(person2, 5, p2_5).
pos(person2, 6, p2_6).
pos(person2, 7, p2_7).
pos(person2, 8, p2_8).
pos(person2, 9, p2_9).
pos(person2, 10, p2_10).

point(p2_1, "41.076", "48.483").
point(p2_2, "41.076", "48.483").
point(p2_3, "41.22", "48.483").
point(p2_4, "41.22", "48.399").
point(p2_5, "41.48", "48.317").
point(p2_6, "41.48", "48.317").
point(p2_7, "41.48", "48.317").
point(p2_8, "41.22", "48.399").
point(p2_9, "41.22", "48.399").
point(p2_10, "41.22", "48.399").



robot(robot).

pos(robot, 1, r_1).
pos(robot, 2, r_2).
pos(robot, 3, r_3).
pos(robot, 4, r_4).
pos(robot, 5, r_5).
pos(robot, 6, r_6).
pos(robot, 7, r_7).
pos(robot, 8, r_8).
pos(robot, 9, r_9).
pos(robot, 10, r_10).


point(r_1, "36.954", "46.056").
point(r_2, "38.012", "46.674").
point(r_3, "39.217", "47.379").
point(r_4, "40.099", "47.909").
point(r_5, "40.805", "48.399").
point(r_6, "42.187", "49.222").
point(r_7, "43.362", "49.929").
point(r_8, "44.627", "50.722").
point(r_9, "45.773", "51.483").
point(r_10, "46.949", "52.193").

}).

#pos({},{},{ % seq_2_1_positive.lp


person(person1).

pos(person1, 1, p1_1).
pos(person1, 2, p1_2).
pos(person1, 3, p1_3).
pos(person1, 4, p1_4).
pos(person1, 5, p1_5).
pos(person1, 6, p1_6).
pos(person1, 7, p1_7).
pos(person1, 8, p1_8).
pos(person1, 9, p1_9).
pos(person1, 10, p1_10).

point(p1_1, "53.725", "59.727").
point(p1_2, "53.725", "59.727").
point(p1_3, "53.725", "59.727").
point(p1_4, "53.725", "59.727").
point(p1_5, "53.725", "59.727").
point(p1_6, "53.725", "59.727").
point(p1_7, "53.725", "59.764").
point(p1_8, "53.725", "59.764").
point(p1_9, "53.725", "59.764").
point(p1_10, "53.725", "59.764").



person(person2).

pos(person2, 1, p2_1).
pos(person2, 2, p2_2).
pos(person2, 3, p2_3).
pos(person2, 4, p2_4).
pos(person2, 5, p2_5).
pos(person2, 6, p2_6).
pos(person2, 7, p2_7).
pos(person2, 8, p2_8).
pos(person2, 9, p2_9).
pos(person2, 10, p2_10).

point(p2_1, "54.35", "59.625").
point(p2_2, "54.35", "59.625").
point(p2_3, "54.35", "59.625").
point(p2_4, "54.35", "59.625").
point(p2_5, "54.35", "59.625").
point(p2_6, "54.35", "59.625").
point(p2_7, "54.35", "59.625").
point(p2_8, "54.35", "59.625").
point(p2_9, "54.35", "59.625").
point(p2_10, "54.35", "59.625").



robot(robot).

pos(robot, 1, r_1).
pos(robot, 2, r_2).
pos(robot, 3, r_3).
pos(robot, 4, r_4).
pos(robot, 5, r_5).
pos(robot, 6, r_6).
pos(robot, 7, r_7).
pos(robot, 8, r_8).
pos(robot, 9, r_9).
pos(robot, 10, r_10).


point(r_1, "49.741", "53.585").
point(r_2, "50.888", "54.345").
point(r_3, "52.064", "55.055").
point(r_4, "52.983", "55.788").
point(r_5, "53.725", "56.552").
point(r_6, "54.493", "57.434").
point(r_7, "55.21", "58.345").
point(r_8, "55.504", "59.492").
point(r_9, "55.797", "60.52").
point(r_10, "56.224", "61.477").

}).

#pos({},{},{ % seq_2_2_positive.lp


person(person1).

pos(person1, 1, p1_1).
pos(person1, 2, p1_2).
pos(person1, 3, p1_3).
pos(person1, 4, p1_4).
pos(person1, 5, p1_5).
pos(person1, 6, p1_6).
pos(person1, 7, p1_7).
pos(person1, 8, p1_8).
pos(person1, 9, p1_9).
pos(person1, 10, p1_10).

point(p1_1, "56.518", "59.209").
point(p1_2, "56.518", "59.209").
point(p1_3, "56.518", "59.209").
point(p1_4, "56.518", "59.209").
point(p1_5, "56.518", "59.209").
point(p1_6, "56.518", "59.209").
point(p1_7, "56.518", "59.209").
point(p1_8, "56.518", "59.209").
point(p1_9, "56.518", "59.209").
point(p1_10, "56.518", "59.209").



person(person2).

pos(person2, 1, p2_1).
pos(person2, 2, p2_2).
pos(person2, 3, p2_3).
pos(person2, 4, p2_4).
pos(person2, 5, p2_5).
pos(person2, 6, p2_6).
pos(person2, 7, p2_7).
pos(person2, 8, p2_8).
pos(person2, 9, p2_9).
pos(person2, 10, p2_10).

point(p2_1, "56.452", "58.566").
point(p2_2, "56.452", "58.566").
point(p2_3, "56.452", "58.566").
point(p2_4, "56.452", "58.566").
point(p2_5, "56.452", "58.566").
point(p2_6, "56.452", "58.566").
point(p2_7, "56.452", "58.566").
point(p2_8, "56.452", "58.566").
point(p2_9, "56.452", "58.566").
point(p2_10, "56.452", "58.566").



robot(robot).

pos(robot, 1, r_1).
pos(robot, 2, r_2).
pos(robot, 3, r_3).
pos(robot, 4, r_4).
pos(robot, 5, r_5).
pos(robot, 6, r_6).
pos(robot, 7, r_7).
pos(robot, 8, r_8).
pos(robot, 9, r_9).
pos(robot, 10, r_10).


point(r_1, "60.942", "61.322").
point(r_2, "59.972", "61.079").
point(r_3, "59.061", "60.83").
point(r_4, "58.047", "60.624").
point(r_5, "56.9", "60.345").
point(r_6, "55.959", "60.095").
point(r_7, "55.055", "59.771").
point(r_8, "54.306", "59.463").
point(r_9, "53.505", "59.146").
point(r_10, "52.637", "58.759").

}).


#pos({},{},{ % seq_2_3_positive.lp



person(person1).

pos(person1, 1, p1_1).
pos(person1, 2, p1_2).
pos(person1, 3, p1_3).
pos(person1, 4, p1_4).
pos(person1, 5, p1_5).
pos(person1, 6, p1_6).
pos(person1, 7, p1_7).
pos(person1, 8, p1_8).
pos(person1, 9, p1_9).
pos(person1, 10, p1_10).

point(p1_1, "40.551", "48.685").
point(p1_2, "40.551", "48.685").
point(p1_3, "40.551", "48.685").
point(p1_4, "40.551", "48.685").
point(p1_5, "40.551", "48.685").
point(p1_6, "40.551", "48.685").
point(p1_7, "40.551", "48.685").
point(p1_8, "40.551", "48.685").
point(p1_9, "40.551", "48.685").
point(p1_10, "40.551", "48.685").



person(person2).

pos(person2, 1, p2_1).
pos(person2, 2, p2_2).
pos(person2, 3, p2_3).
pos(person2, 4, p2_4).
pos(person2, 5, p2_5).
pos(person2, 6, p2_6).
pos(person2, 7, p2_7).
pos(person2, 8, p2_8).
pos(person2, 9, p2_9).
pos(person2, 10, p2_10).

point(p2_1, "41.076", "48.483").
point(p2_2, "41.076", "48.483").
point(p2_3, "41.076", "48.483").
point(p2_4, "41.076", "48.483").
point(p2_5, "41.076", "48.483").
point(p2_6, "41.076", "48.483").
point(p2_7, "41.076", "48.483").
point(p2_8, "41.076", "48.483").
point(p2_9, "41.076", "48.483").
point(p2_10, "41.076", "48.483").



robot(robot).

pos(robot, 1, r_1).
pos(robot, 2, r_2).
pos(robot, 3, r_3).
pos(robot, 4, r_4).
pos(robot, 5, r_5).
pos(robot, 6, r_6).
pos(robot, 7, r_7).
pos(robot, 8, r_8).
pos(robot, 9, r_9).
pos(robot, 10, r_10).


point(r_1, "36.954", "46.056").
point(r_2, "38.012", "46.674").
point(r_3, "38.629", "47.781").
point(r_4, "39.217", "48.809").
point(r_5, "40.393", "49.635").
point(r_6, "41.952", "49.79").
point(r_7, "43.362", "49.929").
point(r_8, "44.627", "50.722").
point(r_9, "45.773", "51.483").
point(r_10, "46.949", "52.193").


}).

path(Ent, T, line(Ent, T)) :- pos(Ent, T, _), pos(Ent, T+1, _).

% Line connecting successive positions of the same entity
line2d(line(Ent, T), X1, Y1, X2, Y2) :- pos(Ent, T, P1), pos(Ent, T+1, P2), point(P1, X1, Y1), point(P2, X2, Y2).

% Line connecting positions of two entities at the same time
line2d(line(Ent1, Ent2, T), X1, Y1, X2, Y2) :- pos(Ent1, T, P1), pos(Ent2, T, P2), Ent1 != Ent2, point(P1, X1, Y1), point(P2, X2, Y2).

% To extract time from 2d lines
line_time(line(Ent, T), T) :- line2d(line(Ent, T), _, _, _, _).
line_time(line(Ent1, Ent2, T), T) :- line2d(line(Ent1, Ent2, T), _, _, _, _).

line_between(Ent1, Ent2, T, line(Ent1, Ent2, T)) :- pos(Ent1, T, _), pos(Ent2, T, _), Ent1 != Ent2.

spatial(incidence, L1, L2) :- line_time(L1, T), line_time(L2, T), L1 < L2.
incidence(INC, L1, L2) :- spatial_system(id(default), incidence(INC, L1, L2)).

% Expected answer
% :- incidence(intersects, L1, L2), path(E1, T, L1), line_between(E2, E3, T, L2), robot(E1), not robot(E2), not robot(E3).

#modeb(1, incidence(intersects, var(line), var(line))).
#modeb(1, path(var(ent), var(time), var(line))).
#modeb(1, line_between(var(ent), var(ent), var(time), var(line))).
#modeb(3, robot(var(ent))).
#maxv(6).

